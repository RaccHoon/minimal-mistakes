---
layout: single
title: "의존관계 주입"
categories: Spring
tag: [Dev, Spring, Java]
author_profile: false
---

# 의존관계 주입

## 관심사의 분리

애플리케이션에서 특정한 역할을 가진 클래스가 다른 의존하는 구현 객체를 생성하고, 연결하는 책임까지 가지는 것보다 구현 객체를 생성하고 연결하는 책임을 가지는 별도의 설정 클래스를 만드는 것이 낫다.

## 의존관계 주입

AppConfig는 애플리케이션 동작에 필요한 구현 객체를 직접 생성한다. 이후 생성한 객체의 레퍼런스를 생성자를 통해서 주입해준다. 이를 통해 각 클래스는 다른 객체에 의존하지 않게 되고, 이를 통해 DIP를 지키게 된다. 각 클래스는 생성자를 통해 어떤 객체가 주입될지 알 수 없고, 오직 외부에서만 결정된다. 따라서 의존관계에 대한 고민은 외부에 맡기고, 실행에만 집중하면 된다.  

수정사항이 발생하면 AppConfig 클래스만 수정하면 되고, OCP 원칙을 지키게 된다.  

클라이언트 클래스의 입장에선 의존관계를 외부에서 주입해주는 것 같다고 하여 의존관계 주입이라고 한다.  

애플리케이션 실행 시점에 외부에서 실제 구현 객체를 생성하고 클라이언트에 전달해서 클라이언트와 서버의 실제 의존 관계가 연결되는 것을 의존관계 주입이라고 한다. 이를 사용하면 정적인 클래스 의존 관계를 변경하지 않고, 동적인 객체 인스턴스의 의존관계를 쉽게 변경할 수 있다.

## DI 컨테이너(IoC 컨테이너)

AppConfig처럼 객체를 생성하고 관리하면서 의존 관계를 연결해 주는 것을 IoC 컨테이너 또는 DI 컨테이너 라고 한다.의존관계 주입에 초점을 맞춰 최근에는 DI 컨테이너라고 한다.